<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Forge Digital Profile Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- Skill Forge Global Styles --- */
        :root {
            --color-primary: #34D399; /* Emerald 400 */
            --color-secondary: #10B981; /* Emerald 500 */
            --color-bg: #0A0A0A; /* Very Dark Background */
        }
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: var(--color-bg);
            color: #E5E7EB;
            min-height: 100vh;
        }
        .text-gradient {
            background-image: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .glass-header {
            background-color: rgba(10, 10, 10, 0.5);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
        }

        /* --- Quiz Specific Styling --- */
        .question-text {
            font-size: 1.6em; /* Larger question text */
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 2rem;
            text-align: center;
        }
        .option-btn {
            display: block;
            width: 100%;
            background-color: #1a1a1a; /* Darker option background */
            border: 2px solid #333;
            color: white;
            font-weight: 500;
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: 12px;
            transition: all 0.2s ease-in-out;
            text-align: left;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            font-size: 1.1em;
        }
        .option-btn:hover {
            background-color: #222;
            border-color: var(--color-secondary);
            transform: translateY(-2px);
            box-shadow: 0 8px 10px rgba(52, 211, 153, 0.2);
        }
        .option-btn.selected {
            background-color: var(--color-primary);
            color: #000;
            border-color: #000;
            font-weight: bold;
            transform: scale(1.01);
            box-shadow: 0 0 15px rgba(52, 211, 153, 0.8);
        }
        #next-btn {
            display: block;
            width: 100%;
            text-align: center;
            letter-spacing: 1px;
        }
    </style>
</head>
<body class="bg-gray-950">

    <!-- Header -->
    <header class="glass-header shadow-2xl border-b border-green-700/50 sticky top-0 z-50 rounded-b-xl">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <!-- Logo with scaleIn animation -->
            <div class="text-3xl font-extrabold text-gradient tracking-widest">Skill Forge</div>

            <!-- Navigation Link (Updated to be a regular button as this is a standalone quiz page) -->
            <a href="{% url 'landing:index'%}" class="bg-green-600 text-gray-900 px-4 py-2 rounded-lg font-semibold hover:bg-green-500 transition duration-200 shadow-lg hidden sm:block">Home</a>
        </nav>
    </header>

    <!-- Main Quiz Container -->
    <main class="max-w-3xl mx-auto px-4 py-16">
        <h1 class="text-4xl sm:text-5xl font-extrabold text-center text-green-400 mb-4">Your Digital Profile</h1>
        <p class="text-center text-gray-400 mb-12 text-lg">Take this streamlined quiz to discover your strengths, weaknesses, and personalized learning profile.</p>

        <div id="quiz-container" class="bg-[#111] p-8 rounded-3xl border border-green-700/50 shadow-2xl shadow-green-900/50 transition duration-500">
            <div id="question-container">
                <!-- Questions injected here -->
            </div>
            <div class="text-center">
                <button id="next-btn" onclick="nextQuestion()" class="bg-green-600 text-gray-900 font-bold px-6 py-3 rounded-xl mt-6 hover:bg-green-500 transition duration-200 shadow-lg" style="display:none;">
                    Next Question
                </button>
            </div>
        </div>
    </main>

    <!-- Result Display -->
    <div id="result" class="max-w-3xl mx-auto px-4 py-16 bg-[#111] rounded-3xl border border-green-700/50 shadow-2xl shadow-green-900/50 mt-8 text-gray-100" style="display:none;">
        <!-- Results injected here -->
    </div>

<script>
// Quiz data (Reduced to 12 core questions)
const questions = [
    { q: "1. How do you approach problem-solving?", options: ["Logical/Analytical", "Creative/Intuitive", "Practical/Hands-on"], key: "thinking" },
    { q: "2. What is your preferred way of learning?", options: ["Visual (seeing)", "Auditory (hearing)", "Kinesthetic (doing)"], key: "learning" },
    { q: "3. Which field excites you the most?", options: ["Technology & Science", "Design & Arts", "Business & Organization"], key: "interest" },
    { q: "4. When faced with multiple tasks, how do you handle them?", options: ["Organized planning", "Jump between tasks", "Procrastinate slightly"], key: "time" },
    { q: "5. How comfortable are you with abstract concepts (like philosophy or advanced math)?", options: ["Very confident", "Moderately comfortable", "Find them confusing"], key: "abstract" },
    { q: "6. How do you react to constructive criticism?", options: ["Accept and apply it", "Get defensive initially", "Feel demotivated"], key: "criticism" },
    { q: "7. Do you prefer leading a team or following instructions?", options: ["Prefer leading", "Comfortable following instructions", "Collaborate equally"], key: "leadership" },
    { q: "8. How well do you handle stress or pressure?", options: ["Very well/Stay calm", "Average/Manageable", "Poorly/Easily overwhelmed"], key: "stress" },
    { q: "9. How do you prefer working in groups?", options: ["Active contributor", "Supportive role", "Prefer working alone"], key: "collab" },
    { q: "10. How often do you come up with new ideas?", options: ["Often", "Sometimes", "Rarely"], key: "creativity" },
    { q: "11. Do you take initiative in starting new projects?", options: ["Yes, always", "Sometimes, if motivated", "No, I wait for direction"], key: "initiative" },
    { q: "12. How do you approach risks or uncertainty?", options: ["High tolerance, willing to try", "Moderate, cautious but open", "Low tolerance, prefer safety"], key: "risk" },
];

let currentQuestion = 0;
let answers = {};
let selectedOptionEl = null;

function showQuestion() {
    const container = document.getElementById("question-container");
    container.innerHTML = "";
    const q = questions[currentQuestion];

    const questionEl = document.createElement("div");
    questionEl.className = "question-text";
    questionEl.innerText = q.q;
    container.appendChild(questionEl);

    q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.innerText = option;
        btn.onclick = (e) => selectAnswer(option, e.target);
        container.appendChild(btn);
    });

    document.getElementById("next-btn").style.display = "none";
}

function selectAnswer(option, element) {
    const key = questions[currentQuestion].key;
    answers[key] = option;

    // Visual selection logic
    const allOptions = document.querySelectorAll('.option-btn');
    allOptions.forEach(btn => btn.classList.remove('selected'));
    element.classList.add('selected');

    document.getElementById("next-btn").style.display = "inline-block";
    selectedOptionEl = element; // Store selected element for verification, though storing the answer is primary
}

function nextQuestion() {
    // Check if an answer has been selected for the current question
    if (answers[questions[currentQuestion].key]) {
        currentQuestion++;
        if (currentQuestion < questions.length) {
            showQuestion();
        } else {
            showResult();
        }
    } else {
        // No alert, use console log or visual feedback instead
        console.warn("Please select an answer before proceeding.");
    }
}

function showResult() {
    document.getElementById("quiz-container").style.display = "none";
    const res = document.getElementById("result");

    // --- Core Analysis (Simplified based on the 12 questions) ---

    // 1. Determine Major/Focus (Based on Interest)
    let major = "";
    let comments = "";
    const interest = answers.interest.toLowerCase();
    switch(interest.split(' ')[0]) {
        case "technology": major = "STEM / Computer Science";
            comments = "Your primary interest points towards analytical and innovative technical fields."; break;
        case "design": major = "Creative Arts / Design / Media";
            comments = "A strong creative drive suggests roles in arts, communication, and design."; break;
        case "business": major = "Management / Finance / Leadership";
            comments = "Your orientation towards organization and collaboration is perfect for business roles."; break;
        default: major = "Cross-Disciplinary Exploration"; comments = "Your interests are varied. You might excel in fields that combine disciplines.";
    }

    // 2. Identify Growth Areas (Weaknesses)
    let weaknesses = [];
    if (answers.time.includes("Procrastinate")) weaknesses.push("Time Management");
    if (answers.abstract.includes("confusing")) weaknesses.push("Abstract/Theoretical Comprehension");
    if (answers.criticism.includes("Defensive")) weaknesses.push("Feedback Resilience");
    if (answers.stress.includes("Poorly")) weaknesses.push("Stress Management");
    if (answers.collab.includes("alone")) weaknesses.push("Team Collaboration");
    if (answers.initiative.includes("No")) weaknesses.push("Proactivity/Self-Starting");
    if (answers.risk.includes("Low")) weaknesses.push("Risk Tolerance/Adaptability");

    // 3. Overall Recommendation
    let recommendations = weaknesses.length > 0
        ? "Focus on dedicated modules for: " + weaknesses.join(", ") + ". Utilizing structured planning tools can mitigate these challenges."
        : "Your profile is highly adaptable and robust! Focus on mastering advanced domain-specific knowledge.";

    // 4. Assemble HTML Profile
    let profileHTML = `<h2 class="text-3xl font-bold text-green-400 mb-6 text-center">Your Learning Genome Profile</h2>`;
    profileHTML += `<div class="p-6 border-b border-gray-700 mb-6">
                        <p class="text-xl text-white font-semibold mb-2">Likely Educational Path:</p>
                        <p class="text-2xl font-bold text-gradient">${major}</p>
                        <p class="text-gray-400 mt-2">${comments}</p>
                    </div>`;

    profileHTML += `<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="bg-[#1e1e1e] p-4 rounded-xl border border-green-700/30">
            <p class="font-semibold text-green-400">Core Learning Style:</p>
            <p class="text-white">${answers.learning} & ${answers.thinking}</p>
        </div>
        <div class="bg-[#1e1e1e] p-4 rounded-xl border border-green-700/30">
            <p class="font-semibold text-green-400">Behavioral Orientation:</p>
            <p class="text-white">Leadership: ${answers.leadership} | Collaboration: ${answers.collab}</p>
        </div>
    </div>`;

    profileHTML += `<h3 class="text-xl font-bold text-red-400 mt-6 mb-3">Identified Areas for Growth:</h3>`;
    profileHTML += `<ul class="list-disc list-inside ml-4 space-y-2 text-gray-300">`;
    if (weaknesses.length === 0) {
         profileHTML += `<li>None detected! This is a strong, well-rounded profile.</li>`;
    } else {
        weaknesses.forEach(w => {
            profileHTML += `<li class="text-red-300">${w} - Needs targeted Skill Forge module development.</li>`;
        });
    }
    profileHTML += `</ul>`;
    profileHTML += `<p class="mt-8 text-lg font-semibold text-white">Skill Forge Recommendation:</p>`;
    profileHTML += `<p class="text-gray-400">${recommendations}</p>`;

    profileHTML += `<div class="text-center mt-10">
                        <button onclick="restartQuiz()" class="bg-green-600 text-gray-900 font-bold px-8 py-3 rounded-xl hover:bg-green-500 transition duration-200 shadow-lg transform hover:scale-105">
                            Restart Test
                        </button>
                    </div>`;

    res.innerHTML = profileHTML;
    res.style.display = "block";
}

function restartQuiz() {
    answers = {};
    currentQuestion = 0;
    document.getElementById("result").style.display = "none";
    document.getElementById("quiz-container").style.display = "block";
    showQuestion();
}

// Initialize first question
showQuestion();
</script>

</body>
</html>